# In-Browser Code Editor ‚Äî Mini VS Code-like Editor

![Live Demo](https://img.shields.io/badge/Live-Demo-brightgreen)
[![Version](https://img.shields.io/badge/Version-1.0.0-blue)](CHANGELOG.md)
[![License](https://img.shields.io/badge/License-MIT-yellow)](LICENSE)


A polished, lightweight in-browser code editor that mirrors a VS Code-like workflow. Built with plain HTML, CSS, and vanilla JavaScript and powered by Ace Editor for editing. Ideal for teaching, quick demos, exercises, and prototyping without any server-side dependencies.

---

## ‚ú® Highlights

- Instant live preview (HTML/CSS/JS) via sandboxed iframe.
- Three editors: HTML, CSS, JavaScript ‚Äî Ace Editor with syntax highlighting and shortcuts.
- Two-column responsive layout: editor(s) on the left, preview on the right (collapses on narrow viewports).
- Theme toggle (light/dark) with persistent preference in localStorage.
- Save / Load projects as JSON and download/upload support.
- Minimal, dependency-free static app (no build step required).

---

## üöÄ Quick Start

1. Clone or copy the project files to a local folder.

    ```bash
    git clone <your-repo>
    cd <your-repo>
    ```

1. Open `index.html` in a modern browser. For best results use a local server:

    ```bash
    # Python 3
    python -m http.server 8000
    ```

1. Edit HTML/CSS/JS in their panels ‚Äî preview updates instantly.

---

## üß≠ Key Controls & Shortcuts

- Run preview: Ctrl/Cmd + Enter (also available via Run button)
- Save project: Ctrl/Cmd + S
- Toggle theme: Theme button in header
- Open preview in new window: Open button in header
- Export project JSON: Save / Download button
- Load project: Load / Upload button

---

## üì¶ Project Structure

```text
project-root/
‚îú‚îÄ‚îÄ index.html       # App shell and UI layout
‚îú‚îÄ‚îÄ style.css        # Plain CSS for layout and UI
‚îú‚îÄ‚îÄ app.js           # App logic, Ace initialization, preview, persistence
‚îú‚îÄ‚îÄ README.md        # This file
‚îî‚îÄ‚îÄ assets/          # Optional assets (icons, images)
```

---

## üîß Features & Implementation Notes

- Editors are powered by Ace Editor loaded from CDN. Instances are created using `makeEditor(id, mode)`.
- Live preview is generated by `buildWebSrcdoc()` which composes the HTML payload and sets `iframe.srcdoc`.
- The preview iframe is sandboxed to limit capabilities. It uses `allow-scripts` and a minimal set of permissions required for demos.
- Project persistence is implemented with `localStorage` (autosave optional) and explicit Export/Import JSON.
- UI is layout-driven using CSS Grid with fixed header/footer heights to ensure predictable editor heights and 100vh fit.
- All DOM writes for user-provided text are escaped where appropriate using an `escapeHtml` helper to avoid accidental HTML injection in app UI (the preview intentionally runs the user code).

---

## üîí Security & Safety

- The preview runs inside a sandboxed iframe; however, an in-browser demo must not be treated as a secure multi-tenant execution environment.
- Avoid loading or executing untrusted third-party scripts in the editors.
- For public deployments, consider stricter iframe sandbox flags (remove `allow-same-origin` if not required) and/or run previews in a dedicated worker or server-side sandbox.

---

## üõ† Developer Notes & Useful Functions

- `makeEditor(id, mode)` ‚Äî create and configure an Ace editor instance.
- `buildWebSrcdoc(withTests)` ‚Äî build the HTML/CSS/JS payload used for `iframe.srcdoc`.
- `runWeb(withTests)` ‚Äî set the `srcdoc` on the preview iframe and optionally append tests.
- `saveProject()` / `loadProject()` ‚Äî export/import project as JSON and persist to `localStorage`.
- `resizeEditors()` ‚Äî reflow editors on window resize or theme change.


Edge cases to consider:

- Empty editors (treat as empty strings, preview should still load a minimal HTML skeleton).
- Very large JS blobs ‚Äî the preview will execute them, so expensive scripts can hang the iframe.
- Theme toggling must call `editor.resize()` so Ace redraws correctly.

---

## ‚úÖ Try It

### Manual checks

- Open `index.html` and confirm the editors and preview fill the viewport.
- Toggle theme and verify Ace and app styles update.
- Save a small project to JSON and reload it via Load to confirm persistence.
- Try `Open preview` to open the current preview in a new window/tab.

---

## üìà Roadmap (prioritized)

1. Draggable splitter between editor and preview.
2. Ace theme synchronization with site theme (light/dark).
3. Add named templates and an exercise gallery.
4. Optional server-side preview sandbox (for untrusted code).
5. Unit tests for project JSON utilities and CI via GitHub Actions.
6. Accessibility improvements and ARIA annotations.

---

## ü§ù Contributing

Contributions welcome. Suggested workflow:

1. Fork this repo
2. Create a feature branch: `git checkout -b feature/your-feature`
3. Commit changes and push
4. Open a Pull Request describing your change and rationale

Please add tests for any non-UI utility logic and keep CSS changes scoped and minimal.

---

## üìú License

MIT ‚Äî see the `LICENSE` file.

---

## üôè Acknowledgements

- [Ace Editor](https://ace.c9.io)
- Browser vendors and modern web platform features

---

If you'd like, I can now:

- Sync Ace themes with the app theme (dark/light)
- Add a draggable splitter and implement resizing behavior
- Add a small test harness for the JSON save/load utilities

Tell me which item to work on next and I'll implement it and validate locally.
